<!DOCTYPE html>
<html>
<head>
    <title>Test PDF Upload</title>
</head>
<body>
    <h1>Testing PDF Upload Fix</h1>
    <div id="test-results"></div>
    
    <script>
        // Test function to check if JavaScript executes properly
        function testJavaScript() {
            const results = document.getElementById('test-results');
            let testsPassed = 0;
            let testsFailed = 0;
            
            // Test 1: Check basic JavaScript execution
            try {
                const test1 = 1 + 1;
                if (test1 === 2) {
                    results.innerHTML += '<p style="color: green;">âœ“ Test 1: Basic JavaScript execution works</p>';
                    testsPassed++;
                }
            } catch (e) {
                results.innerHTML += '<p style="color: red;">âœ— Test 1 failed: ' + e + '</p>';
                testsFailed++;
            }
            
            // Test 2: Check if we can parse the fixed line
            try {
                const currentPageNum = 1;
                const totalPages = 10;
                const jumpInput = null;
                
                if (jumpInput) {
                    jumpInput.max = totalPages;
                }
                console.log('ðŸ”¥ [CREATE_EXAM] Page info updated to:', `Page ${currentPageNum} of ${totalPages}`);
                
                results.innerHTML += '<p style="color: green;">âœ“ Test 2: Fixed syntax - No more else after console.log</p>';
                testsPassed++;
            } catch (e) {
                results.innerHTML += '<p style="color: red;">âœ— Test 2 failed: ' + e + '</p>';
                testsFailed++;
            }
            
            // Test 3: Check optional chaining
            try {
                const element = document.getElementById('nonexistent');
                element?.addEventListener('click', function() {});
                results.innerHTML += '<p style="color: green;">âœ“ Test 3: Optional chaining works</p>';
                testsPassed++;
            } catch (e) {
                results.innerHTML += '<p style="color: red;">âœ— Test 3 failed: ' + e + '</p>';
                testsFailed++;
            }
            
            // Test 4: Check PDF.js availability check
            try {
                if (typeof pdfjsLib === 'undefined') {
                    console.log('PDF.js not loaded (expected in test)');
                } else {
                    console.log('PDF.js is loaded');
                }
                results.innerHTML += '<p style="color: green;">âœ“ Test 4: PDF.js check doesn\'t throw error</p>';
                testsPassed++;
            } catch (e) {
                results.innerHTML += '<p style="color: red;">âœ— Test 4 failed: ' + e + '</p>';
                testsFailed++;
            }
            
            // Summary
            results.innerHTML += '<hr>';
            results.innerHTML += '<h2>Results: ' + testsPassed + ' passed, ' + testsFailed + ' failed</h2>';
            
            if (testsFailed === 0) {
                results.innerHTML += '<p style="color: green; font-weight: bold;">All JavaScript fixes are working correctly!</p>';
            }
        }
        
        // Run tests when page loads
        window.onload = testJavaScript;
    </script>
</body>
</html>